# EvaRoomBot - N8N Telegram Bot Documentation

## –û–±–∑–æ—Ä

EvaRoomBot - —ç—Ç–æ Telegram-–±–æ—Ç –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ n8n, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤, —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º API DaData.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ (–ò–ù–ù/–û–ì–†–ù)
- –ü–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–∏ –≤ –±–∞–∑–µ DaData –ø–æ –ò–ù–ù –∏–ª–∏ –û–ì–†–ù
- –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–∏–Ω–≥–æ–≤–æ–≥–æ –±–∞–ª–ª–∞ (0-100)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Ä–∏—Å–∫–∞ (–ù–∏–∑–∫–∏–π, –°—Ä–µ–¥–Ω–∏–π, –í—ã—Å–æ–∫–∏–π, –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–∞–Ω–∏–∏ (–ê–∫—Ç–∏–≤–Ω–∞, –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è, –õ–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–∞, –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è)
- –ê–Ω–∞–ª–∏–∑ –¥–∞—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–≤–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞
- –í—ã—è–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –º–∞—Å—Å–æ–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –§–ò–û, –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è –∏ –ò–ù–ù
- –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞: `–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ, –î–î.–ú–ú.–ì–ì–ì–ì, –ò–ù–ù`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–∞
- –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞: `–ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞, –î–∞—Ç–∞, –°—É–º–º–∞`
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ workflow

```
Telegram Trigger
    ‚Üì
Session State Manager (FSM)
    ‚Üì
Router (Command/Button/Text)
    ‚Üì
Handler (Command/Button/Text)
    ‚Üì
DaData Find Company
    ‚Üì
Calculate Scoring
    ‚Üì
Format Result
    ‚Üì
Send Telegram Message
    ‚Üì
Save Session State
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. Telegram Trigger
- **–¢–∏–ø**: `n8n-nodes-base.telegramTrigger`
- **–§—É–Ω–∫—Ü–∏—è**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ callback'–æ–≤ –∏–∑ Telegram
- **–°–æ–±—ã—Ç–∏—è**: `message`, `callback_query`

#### 2. Session State Manager
- **–¢–∏–ø**: `n8n-nodes-base.function`
- **–§—É–Ω–∫—Ü–∏—è**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º FSM –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°–æ—Å—Ç–æ—è–Ω–∏—è**:
  - `IDLE` - –û–∂–∏–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
  - `AWAITING_INN` - –û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –ò–ù–ù/–û–ì–†–ù
  - `AWAITING_INDIVIDUAL_DATA` - –û–∂–∏–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–∑–ª–∏—Ü–∞
  - `AWAITING_CONTRACT_DATA` - –û–∂–∏–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–∞
  - `PROCESSING` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

#### 3. Router
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: Command Router, Button Router, Text Router
- **–§—É–Ω–∫—Ü–∏—è**: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–∏–ø—É
- **–¢–∏–ø—ã –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**:
  - `command` - –ö–æ–º–∞–Ω–¥—ã –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `/`
  - `button` - Callback –æ—Ç inline –∫–Ω–æ–ø–æ–∫
  - `text` - –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

#### 4. Handlers
- **Command Handler**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ `/start`, `/help`, `/check`
- **Button Handler**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
- **Text Input Handler**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è FSM

#### 5. DaData Find Company
- **–¢–∏–ø**: `n8n-nodes-base.httpRequest`
- **API**: `https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party`
- **–ú–µ—Ç–æ–¥**: POST
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: API Token –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ

#### 6. Calculate Scoring
- **–¢–∏–ø**: `n8n-nodes-base.function`
- **–§—É–Ω–∫—Ü–∏—è**: –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–∏–Ω–≥–æ–≤–æ–≥–æ –±–∞–ª–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö DaData
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏**:
  - –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∞–Ω–∏–∏ (-50 –¥–æ -70 –±–∞–ª–ª–æ–≤ –∑–∞ –ª–∏–∫–≤–∏–¥–∞—Ü–∏—é)
  - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (-15 –¥–æ -25 –±–∞–ª–ª–æ–≤ –∑–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏)
  - –£—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª (-15 –±–∞–ª–ª–æ–≤ –∑–∞ –Ω–∏–∑–∫–∏–π –∫–∞–ø–∏—Ç–∞–ª)
  - –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (-20 –±–∞–ª–ª–æ–≤ –∑–∞ –º–∞—Å—Å–æ–≤—ã–π –∞–¥—Ä–µ—Å)

#### 7. Format Result
- **–¢–∏–ø**: `n8n-nodes-base.function`
- **–§—É–Ω–∫—Ü–∏—è**: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
- **–§–æ—Ä–º–∞—Ç**: Markdown —Å emoji –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

#### 8. Send Telegram Message
- **–¢–∏–ø**: `n8n-nodes-base.telegram`
- **–§—É–Ω–∫—Ü–∏—è**: –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **–û–ø—Ü–∏–∏**: Inline keyboard –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞ DaData

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [dadata.ru](https://dadata.ru)
2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ n8n

### –®–∞–≥ 3: –ò–º–ø–æ—Ä—Ç workflow –≤ n8n

1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n
2. –ù–∞–∂–º–∏—Ç–µ "Import from File"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `workflows/EvaRoomBot.json`
4. Workflow –±—É–¥–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —Å–æ –≤—Å–µ–º–∏ —É–∑–ª–∞–º–∏

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ credentials

#### Telegram Bot API
1. –û—Ç–∫—Ä–æ–π—Ç–µ —É–∑–µ–ª "Telegram Trigger"
2. –ù–∞–∂–º–∏—Ç–µ "Create New Credentials"
3. –í–≤–µ–¥–∏—Ç–µ:
   - **Access Token**: –¢–æ–∫–µ–Ω –æ—Ç BotFather

#### DaData API
1. –û—Ç–∫—Ä–æ–π—Ç–µ —É–∑–µ–ª "DaData Find Company"
2. –°–æ–∑–¥–∞–π—Ç–µ HTTP Header Auth credentials
3. –í–≤–µ–¥–∏—Ç–µ:
   - **Name**: `Authorization`
   - **Value**: `Token YOUR_DADATA_API_KEY`
4. –î–æ–±–∞–≤—å—Ç–µ –≤—Ç–æ—Ä–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫:
   - **Name**: `X-Secret`
   - **Value**: `YOUR_DADATA_SECRET_KEY`

### –®–∞–≥ 5: –ê–∫—Ç–∏–≤–∞—Ü–∏—è workflow

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ workflow
2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ workflow (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
3. Workflow –Ω–∞—á–Ω–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Telegram

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º, –ø–æ–∫–∞–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `/check` - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
- `/status` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞

### –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
2. –ù–∞–∂–º–∏—Ç–µ "üè¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞"
3. –í–≤–µ–¥–∏—Ç–µ –ò–ù–ù (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä) –∏–ª–∏ –û–ì–†–ù (13 –∏–ª–∏ 15 —Ü–∏—Ñ—Ä)
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–∏–º–µ—Ä:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /start
–ë–æ—Ç: [–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [–ù–∞–∂–∏–º–∞–µ—Ç "üè¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞"]
–ë–æ—Ç: –í–≤–µ–¥–∏—Ç–µ –ò–ù–ù –∏–ª–∏ –û–ì–†–ù –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞:

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 7707083893
–ë–æ—Ç: üîÑ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞...

–ë–æ—Ç: 
üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞

üè¢ –ö–æ–º–ø–∞–Ω–∏—è: –ü–ê–û –°–ë–ï–†–ë–ê–ù–ö
üî¢ –ò–ù–ù: 7707083893
üî¢ –û–ì–†–ù: 1027700132195

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üü¢ –°–∫–æ—Ä–∏–Ω–≥–æ–≤—ã–π –±–∞–ª–ª: 100/100
üü¢ –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞: –ù–∏–∑–∫–∏–π

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìã –î–µ—Ç–∞–ª–∏:
‚Ä¢ –°—Ç–∞—Ç—É—Å: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞
‚Ä¢ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 20.06.1991
‚Ä¢ –£—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª: 67 760 844 000 —Ä—É–±.

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
```

### –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞

1. –ù–∞–∂–º–∏—Ç–µ "üë§ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–∑–ª–∏—Ü–∞"
2. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ, –î–î.–ú–ú.–ì–ì–ì–ì, –ò–ù–ù`

–ü—Ä–∏–º–µ—Ä:
```
–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á, 01.01.1990, 123456789012
```

### –ü—Ä–æ—Ü–µ—Å—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–∞

1. –ù–∞–∂–º–∏—Ç–µ "üìÑ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞"
2. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `–ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞, –î–∞—Ç–∞, –°—É–º–º–∞`

–ü—Ä–∏–º–µ—Ä:
```
–î-12345, 01.12.2024, 100000
```

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞

### –†–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤

–ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–ª: **100**

#### –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞: 0 –±–∞–ª–ª–æ–≤
- ‚ö†Ô∏è –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: -30 –±–∞–ª–ª–æ–≤
- üî¥ –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è: -50 –±–∞–ª–ª–æ–≤
- ‚õî –õ–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–∞: -70 –±–∞–ª–ª–æ–≤
- ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω: -20 –±–∞–ª–ª–æ–≤

#### –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- < 6 –º–µ—Å—è—Ü–µ–≤: -25 –±–∞–ª–ª–æ–≤
- < 12 –º–µ—Å—è—Ü–µ–≤: -15 –±–∞–ª–ª–æ–≤
- > 12 –º–µ—Å—è—Ü–µ–≤: 0 –±–∞–ª–ª–æ–≤

#### –£—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª
- < 10,000 —Ä—É–±: -15 –±–∞–ª–ª–æ–≤
- ‚â• 10,000 —Ä—É–±: 0 –±–∞–ª–ª–æ–≤

#### –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ú–∞—Å—Å–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: -20 –±–∞–ª–ª–æ–≤
- –û–±—ã—á–Ω—ã–π –∞–¥—Ä–µ—Å: 0 –±–∞–ª–ª–æ–≤

### –£—Ä–æ–≤–Ω–∏ —Ä–∏—Å–∫–∞

- üü¢ **–ù–∏–∑–∫–∏–π** (80-100 –±–∞–ª–ª–æ–≤): –ö–æ–º–ø–∞–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–∞
- üü° **–°—Ä–µ–¥–Ω–∏–π** (60-79 –±–∞–ª–ª–æ–≤): –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–∏–º–∞–Ω–∏–µ
- üü† **–í—ã—Å–æ–∫–∏–π** (40-59 –±–∞–ª–ª–æ–≤): –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
- üî¥ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π** (0-39 –±–∞–ª–ª–æ–≤): –°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

## API DaData

### –≠–Ω–¥–ø–æ–∏–Ω—Ç
```
POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party
```

### –ó–∞–≥–æ–ª–æ–≤–∫–∏
```
Authorization: Token YOUR_API_KEY
X-Secret: YOUR_SECRET_KEY
Content-Type: application/json
```

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
```json
{
  "query": "7707083893"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
```json
{
  "suggestions": [
    {
      "data": {
        "inn": "7707083893",
        "ogrn": "1027700132195",
        "name": {
          "short_with_opf": "–ü–ê–û –°–ë–ï–†–ë–ê–ù–ö",
          "full": "–ü–£–ë–õ–ò–ß–ù–û–ï –ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û \"–°–ë–ï–†–ë–ê–ù–ö –†–û–°–°–ò–ò\""
        },
        "state": {
          "status": "ACTIVE",
          "registration_date": "1991-06-20"
        },
        "capital": {
          "value": "67760844000"
        }
      }
    }
  ]
}
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
N8n_tele/
‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îî‚îÄ‚îÄ EvaRoomBot.json         # –û—Å–Ω–æ–≤–Ω–æ–π workflow n8n
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram-bot.types.ts   # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram-bot.utils.ts   # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ __tests__/
‚îÇ       ‚îî‚îÄ‚îÄ telegram-bot.utils.test.ts  # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ TELEGRAM_BOT.md         # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
npm test
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```bash
npm run type-check
```

### –õ–∏–Ω—Ç–∏–Ω–≥

```bash
npm run lint
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ workflow –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ Telegram
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ n8n –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ DaData
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –ò–ù–ù/–û–ì–†–ù
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã API DaData

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Markdown
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–∑–ª–∞ "Send Telegram Message"

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–•—Ä–∞–Ω–∏—Ç–µ credentials –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ API –∫–ª—é—á–∏
2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ whitelist –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã**: –ú–µ–Ω—è–π—Ç–µ API –∫–ª—é—á–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- DaData API –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- Telegram Bot API –∏–º–µ–µ—Ç rate limits
- –†–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 4096 —Å–∏–º–≤–æ–ª–∞–º–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
